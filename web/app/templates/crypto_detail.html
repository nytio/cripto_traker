{% extends "base.html" %}

{% block content %}
  <h1 class="h3 mb-3">{{ crypto.name or crypto.coingecko_id }}</h1>

  {% if series %}
    <div class="card">
      <div class="card-body">
        <div id="price-chart" class="chart-container" data-series='{{ series|tojson }}' data-currency="{{ currency }}"></div>
      </div>
    </div>
  {% else %}
    <div class="card">
      <div class="card-body">
        <p class="text-muted mb-0">No price history yet. Update prices to see the chart.</p>
      </div>
    </div>
  {% endif %}

  <script src="https://cdn.jsdelivr.net/npm/plotly.js-dist-min@2.27.0/plotly.min.js"></script>
  <script src="{{ url_for('static', filename='js/crypto_detail.js') }}"></script>
{% endblock %}
